<div class="w-full flex flex-col min-h-[22rem]">
  <div class="flex flex-row justify-between p-1 min-h-10 border-solid border-b rounded-t-md border-zinc-700 bg-zinc-800">    
    <div class="flex flex-row gap-1 items-center">
      <div class="relative">
          <div class="bg-zinc-900 w-10 h-7 flex flex-row justify-center items-center 
                        border rounded-md border-solid border-zinc-700 cursor-pointer"
            (click)="onMonthPickerClicked()">
            <i class="fa-regular fa-calendar-days text-gray-300"></i>
          </div>
        @if (isMonthPickerShown) {
          <trh-chart-month-picker
            class="absolute top-full mt-1 left-0"
            (monthSelected)="onMonthSelected($event)">
          </trh-chart-month-picker>
        }
      </div>
      <p class="pl-2 font-semibold text-sm">{{ getHeader() }}</p>        
      @if (chartData) {
        <p class="text-xs italic">
          (total: {{ chartData!.total_played }} min.)
        </p>
      }
    </div>
    <div class="flex flex-row items-center gap-2">
      <p>Aggregate by:</p>
      <select class="w-24 py-1" (change)="onTypeChanged($event)">
        <option [value]="'record'">
          {{ 'Record' }}
        </option>
        <option [value]="'play' ">
          {{ 'Play' }}
        </option>
      </select>
    </div>
  </div>
  @if (chartData) {
    <div 
      echarts
      class="w-full min-h-[30vh]" 
      [options]="options" 
      [merge]="mergeOptions" 
      [autoResize]="true"></div>
  } @else {
    <p class="flex-1 text-xl flex items-center justify-center">No data</p>
  }
</div>