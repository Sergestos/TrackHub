<div class="bg-c-bg-contrast">
  <div class="mb-6 ml-12">
    <p class="text-3xl text-white pt-4">Commit</p>
  </div>
  <div class="flex justify-between ml-12 mr-3 pb-3">
    <div class="mt-2 pb-0.5">
      @if (pageMode == 'Edit') {
      <p>Play date: </p>
      <input type="date" [value]="exercise?.playDate | date:'yyyy-MM-dd'" disabled />
      } @else if (pageMode == 'Add') {
      <div class="flex flex-row gap-2 py-2">
        <p class="text-zinc-400">Use today's date?</p>
        <input type="checkbox" class="mt-0.5" [(ngModel)]="isUseTodaysDate" />
        @if (!isUseTodaysDate) {
        <input type="date" class="pl-1 ml-6 h-6 mt-[-3px] border-r-8" [value]="selectedDate | date:'yyyy-MM-dd'"
          [ngModel]="selectedDate | date:'yyyy-MM-dd'" (ngModelChange)="selectedDate=$event"
          onfocus="'showPicker' in this && this.showPicker()" />
        }
      </div>
      }
    </div>
    <div class="mt-2 h-9 flex flex-row justify-evenly gap-3">
      <trh-button 
        [value]="'Add'" 
        (pressed)="onAddClick($event)" />
      <trh-button 
        [value]="'Save'"         
        [disabled]="exercise?.records!.length == 0" 
        (pressed)="onSaveClick($event)" />
      <trh-button 
        [value]="'Remove'"         
        [type]="'danger'"
        [disabled]="!isAnySelected" 
        (pressed)="onRemoveClick($event)" />
    </div>
  </div>
</div>
<div class="exercise-grid h-dvh bg-zinc-950 border-t border-solid border-c-border">
  @if (exercise?.records!.length == 0) {
  <div class="mt-12">
    <p class="text-zinc-400 text-center">Click 'Add' to enter played exercise</p>
  </div>
  }
  @if (exercise?.records!.length > 0) {
  <div class="border rounded-t-xl border-solid border-c-border mt-6 mx-44">
    <div class="headers flex flex-row gap-2 py-4 pl-20 bg-zinc-900 border-b rounded-t-xl border-solid border-c-border">
      <input class="mr-8" type="checkbox" (change)="onAllSelectedChanged($event)" />
      <p class="w-32">Duration</p>
      <p class="w-36">Type</p>
      <p class="w-40">Name</p>
      <p class="w-40">Author</p>
      <p class="w-32">Bpm</p>
      <p class="w-20">Options</p>
    </div>
    @for (item of exercise?.records; track $index) {
    <trh-exercise [model]="item" (onSelectToggle)="onSelectToggle()"></trh-exercise>
    }
  </div>
  }
</div>